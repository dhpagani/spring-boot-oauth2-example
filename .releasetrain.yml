pipeline:
    environment:
        RELEASE_TRAIN: 1    
    artifacts: 
      github:
          conditions:
            branch_regex: ^v[0-9.\-]+$
          assets:
            - name: cci-ont-releasetrain-api.zip
              path: ./releasetrain-api/
              label: 'Vers√£o completa buildada da API'
            - name: cas.war
              path: legradle/build/libs/
      jenkins:
          assets:         
          - name: cas.war
            path: legradle/build/libs/
          - name: sso.jar
            path: springboot/target/
    projects:      
      - name: ss0
        folder: ./springboot
        template: 
          - maven
          - docker_app
        maven:
          container:
            image: maven:3-openjdk-11 
        sonarqube: 
          sonar.sources: src/
          sonar.java.binaries: target/classes/**
        docker:
          - conditions: 
              branch_regex: ^teste2$
            repository: projects
            imageName: sso-test 
            projectVersionAsTag: true
            tags:
              - sso-teste
              - latest 